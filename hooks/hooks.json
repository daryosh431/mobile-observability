{
  "hooks": [
    {
      "matcher": {
        "tool": "Edit",
        "filePattern": "*.swift"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "When adding observability instrumentation to Swift files, watch for:\n\n1. **PII in breadcrumbs/logs** - Never log email, phone, passwords, or user-provided text in telemetry\n2. **Main thread blocking** - Use async dispatch for analytics calls, never block UI\n3. **Offline handling** - Queue telemetry events when network unavailable\n\nFlag these issues for the user if detected."
        }
      ]
    },
    {
      "matcher": {
        "tool": "Edit",
        "filePattern": "*.kt"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "When adding observability instrumentation to Kotlin files, watch for:\n\n1. **PII in breadcrumbs/logs** - Never log email, phone, passwords, or user-provided text in telemetry\n2. **Main thread blocking** - Use Dispatchers.IO or background scope for analytics calls\n3. **Offline handling** - Queue telemetry events when network unavailable\n\nFlag these issues for the user if detected."
        }
      ]
    },
    {
      "matcher": {
        "tool": "Edit",
        "filePattern": "*.ts"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "When adding observability instrumentation to React Native/TypeScript files, watch for:\n\n1. **PII in breadcrumbs/logs** - Never log email, phone, passwords, or user-provided text in telemetry\n2. **Native bridge serialization** - Ensure telemetry payloads are JSON-serializable before sending to native modules\n3. **Source maps** - Verify source maps are configured for crash symbolication\n\nFlag these issues for the user if detected."
        }
      ]
    }
  ]
}
